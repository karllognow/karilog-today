
<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>狩ログNOW - GOAL</title>
<style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
      background-color: #111;
      color: white;
    }
    header .menu-icon {
      font-size: 22px;
      cursor: pointer;
      color: #48C08A;
    }
    .section {
      padding: 16px;
    }
    .event-toggle-box {
      border: 1px solid #48C08A;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 8px;
    }
    .event-toggle-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      color: #48C08A;
      cursor: pointer;
    }
    .event-toggle-details {
      margin-top: 8px;
      font-size: 12px;
      line-height: 1.4;
      display: none;
    }
    .goal-section h3 {
      font-size: 16px;
      border-bottom: 1px solid #48C08A;
      padding-bottom: 6px;
      margin-bottom: 8px;
      color: #48C08A;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .goal-item {
      display: flex;
      justify-content: space-between;
      padding: 12px;
      background-color: #1c1c1c;
      margin-bottom: 10px;
      border-radius: 6px;
      align-items: center;
      border: 1px solid #48C08A;
    }
    .goal-item span {
      font-size: 12px;
    }
    .goal-item .highlight {
      background-color: #48C08A;
      color: black;
      font-weight: bold;
      padding: 2px 6px;
      border-radius: 4px;
      margin: 0 6px;
      font-size: 12px;
    }
    .goal-arrow {
      font-size: 18px;
      color: #48C08A;
    }
    .goal-add-button {
      font-size: 20px;
      font-weight: bold;
      color: #48C08A;
      cursor: pointer;
    }
    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: #000;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 1px solid #333;
    }
    footer a {
      color: #48C08A;
      text-decoration: none;
      font-size: 12px;
      padding: 6px;
    }
  
    #toggle-icon {
      font-size: 12px;
    }


    .goal-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background-color: #1c1c1c;
      margin-bottom: 10px;
      border-radius: 6px;
      border: 1px solid #48C08A;
    }
    .goal-label {
      flex: 1.5;
      font-size: 8px;
    }
    .goal-grade {
      flex: 1;
      font-size: 12px;
    }
    .goal-date {
      flex: 1;
      font-size: 8px;
    }
    .goal-arrow {
      flex-shrink: 0;
      font-size: 18px;
      color: #48C08A;
    }
    .hidden-goal {
  display: none;
}
.hidden-possession {
  display: none;
}
.equip-part {
  font-size: 12px;
}
.monster-name {
  font-size: 12px;
}
.possess-section h3 {
  font-size: 16px;
  border-bottom: 1px solid #48C08A;
  padding-bottom: 6px;
  margin-bottom: 8px;
  color: #48C08A;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.possess-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  padding: 12px;
  background-color: #1c1c1c;
  margin-bottom: 10px;
  border-radius: 6px;
  border: 1px solid #48C08A;
}

.possess-label {
  flex: 1.5;
  font-size: 8px;
}

.skill-highlight {
  background-color: #48C08A;
  color: black;
  font-weight: bold;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 12px;
}

.skill-color {
  font-size: 12px;
  flex: 1;
}

.goal-arrow {
  flex-shrink: 0;
  font-size: 18px;
  color: #48C08A;
}
.menu-icon {
  z-index: 1001; /* ヘッダーより上に */
  position: relative;
}
header {
  height: 72px; /* ヘッダーの見た目と余白を含めた高さに合わせる */
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #222;
  padding: 14px 16px;
  font-size: 18px;
  font-weight: bold;
  box-sizing: border-box;
}

.wrapper {
  padding-top: 72px; /* headerと完全一致させる */
  padding-bottom: 72px; /* footerとの重なり防止 */
  overflow-y: auto;
  box-sizing: border-box;
  min-height: 100vh;
}
</style>
</head>
<body>
<header>
  狩ログNOW - GOAL
  <div class="menu-icon">≡</div>
</header>
<div class="wrapper">
<div class="section">
<div class="event-toggle-box">
<div class="event-toggle-header" onclick="toggleDetails()">
<span>4月のイベント</span>
<span id="toggle-icon">＋ タップして詳細</span>
</div>
<div class="event-toggle-details" id="event-details">
<ul>
<li><strong>もっと！一狩りいこうぜ！イベント</strong><br/>
        期間 2025年4月7日(月)9:00 〜 4月13日(日)23:59</li>
<li><strong>イースターイベント</strong><br/>
        期間 2025年4月14日(月)9:00 〜 4月27日(日)23:59</li>
<li><strong>漂移錬成&amp;モンスターピックアップ</strong><br/>
        期間 2025年4月28日(月)9:00 〜 5月4日(日)23:59</li>
</ul>
</div>
</div>
</div>
<div class="section goal-section">
<h3>
    装備製作目標
    <span class="goal-add-button">＋</span>
</h3>




<div class="goal-item"><div class="goal-label"><div class="monster-name">タマミツネ</div><div class="equip-part">武器</div></div><span class="highlight">G5-1 → G10-5</span><span class="goal-date">4/15～4/27</span><span class="goal-arrow">＞</span></div><div class="goal-item"><div class="goal-label"><div class="monster-name">オドガロン亜種</div><div class="equip-part">頭</div></div><span class="highlight">未生産 → G8-1</span><span class="goal-date">4/20～4/25</span><span class="goal-arrow">＞</span></div><div class="goal-item hidden-goal">
  <div class="goal-label"><div class="monster-name">クルルヤック</div><div class="equip-part">脚</div></div><span class="highlight">G2-2 → G8-1</span><span class="goal-date">4/26～4/30</span><span class="goal-arrow">＞</span></div><div class="goal-item hidden-goal">
  <div class="goal-label"><div class="monster-name">ティガレックス</div><div class="equip-part">武器</div></div><span class="highlight">未生産 → G10-5</span><span class="goal-date">4/20～5/1</span><span class="goal-arrow">＞</span></div>
<div id="show-more-container" style="text-align: right; margin: 4px 6px 12px;">
  <button id="show-more-button" style="color:#48C08A; background: none; border: none; font-size: 12px; cursor: pointer;">
    ＋すべて表示
  </button>
</div>
</div>
<div class="section possess-section">
  <h3>
    憑依錬成目標
    <span class="goal-add-button">＋</span>
  </h3>
<div class="possess-item ">
  <div class="possess-label">
    <div class="monster-name">ジンオウガ</div>
    <div class="equip-part">腰</div>
  </div>
  <span class="skill-highlight">攻撃強化Lv2</span>
  <span class="skill-color">青</span>
  <span class="goal-arrow">＞</span>
</div>

<div class="possess-item">
  <div class="possess-label">
    <div class="monster-name">イビルジョー</div>
    <div class="equip-part">脚</div>
  </div>
  <span class="skill-highlight">火属性強化Lv1</span>
  <span class="skill-color">赤</span>
  <span class="goal-arrow">＞</span>
</div>
<div class="possess-item">
  <div class="possess-label">
    <div class="monster-name">ベリオロス</div>
    <div class="equip-part">頭</div>
  </div>
  <span class="skill-highlight">回避性能Lv2</span>
  <span class="skill-color">黄</span>
  <span class="goal-arrow">＞</span>
</div>

<div class="possess-item">
  <div class="possess-label">
    <div class="monster-name">ラージャン</div>
    <div class="equip-part">胴</div>
  </div>
  <span class="skill-highlight">攻撃強化Lv3</span>
  <span class="skill-color">赤</span>
  <span class="goal-arrow">＞</span>
</div>
<div id="show-possession-container" style="text-align: right; margin: 4px 6px 12px;">
  <button id="show-possession-button" style="color:#48C08A; background: none; border: none; font-size: 12px; cursor: pointer;">
    ＋すべて表示
  </button>
</div>
</div>
</div>
<footer>
<a href="/karilog-today/">HOME</a>
<a href="#">TODAY</a>
<a href="#">WEEKLY</a>
<a href="/karilog-today/goal/">GOAL</a>
</footer>
<script>
  function toggleDetails() {
    const details = document.getElementById("event-details");
    const icon = document.getElementById("toggle-icon");
    const isVisible = details.style.display === "block";
    details.style.display = isVisible ? "none" : "block";
    icon.textContent = isVisible ? "＋ タップして詳細" : "－ タップして詳細";
  }
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleButton = document.getElementById("show-more-button");
    const hiddenGoals = document.querySelectorAll(".goal-item.hidden-goal");

    if (!toggleButton) {
      console.warn("ボタンが見つかりません。IDが正しいか確認してください。");
      return;
    }

    toggleButton.addEventListener("click", function () {
      hiddenGoals.forEach(item => {
        item.style.display = item.style.display === "none" ? "flex" : "none";
      });

      toggleButton.textContent = toggleButton.textContent === "＋すべて表示"
        ? "ーすべて非表示"
        : "＋すべて表示";

      if (toggleButton.textContent === "ーすべて非表示") {
  // ★ 20ms遅延で描画が終わったあとにスクロール
  setTimeout(() => {
    const visibleGoals = document.querySelectorAll(".goal-item");
    const lastGoal = visibleGoals[visibleGoals.length - 1];
    if (lastGoal) {
      lastGoal.scrollIntoView({ behavior: "smooth", block: "end" });
    }
  }, 20);
}
    });
  });
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const allPossessions = document.querySelectorAll(".possess-item");
  allPossessions.forEach((item, index) => {
    if (index >= 2) {
      item.classList.add("hidden-possession");
      item.style.display = "none";
    }
  });

  const togglePossessionButton = document.getElementById("show-possession-button");

  if (togglePossessionButton) {
    togglePossessionButton.addEventListener("click", function () {
      const isExpanding = togglePossessionButton.textContent === "＋すべて表示";

      allPossessions.forEach((item, index) => {
        const shouldShow = isExpanding || index < 2;
        item.style.display = shouldShow ? "flex" : "none";
        item.classList.toggle("hidden-possession", !shouldShow && index >= 2);
      });

      togglePossessionButton.textContent = isExpanding
        ? "ーすべて非表示"
        : "＋すべて表示";

      if (isExpanding) {
        setTimeout(() => {
  const container = document.querySelector('.possess-section'); // ★固定範囲で限定
  const visiblePossessions = Array.from(container.querySelectorAll(".possess-item"))
    .filter(el => el.style.display !== "none");
  const last = visiblePossessions[visiblePossessions.length - 1];
  if (last) {
    last.scrollIntoView({ behavior: "smooth", block: "end" });
  }
}, 20);
      }
    });
  }
});
</script>
</body>
</html>
