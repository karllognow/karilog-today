<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>狩ログNOW｜WEEKLY</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>狩ログNOW｜WEEKLY</h1>

  <!-- 自由枠の目標設定エリア -->
  <section class="free-goal">
    <h2>自由枠の目標設定</h2>
    <div id="freeGoalContainer"></div>
    <button onclick="addFreeGoal()">＋ 目標を追加</button>
  </section>

  <!-- ナビゲーション -->
  <nav>
    <a href="index.html">HOME</a> |
    <a href="today.html">TODAY</a> |
    <a href="weekly.html">WEEKLY</a> |
    <a href="goal.html">GOAL</a>
  </nav>

  <script>
    const goalTypes = ["モンスター討伐数", "憑依錬成数", "歩いた距離", "HR"];
    const freeGoalContainer = document.getElementById("freeGoalContainer");

    function addFreeGoal() {
      const block = document.createElement("div");
      block.className = "goal-block";

      const select = document.createElement("select");
      goalTypes.forEach(type => {
        const option = document.createElement("option");
        option.value = type;
        option.textContent = type;
        select.appendChild(option);
      });

      const input1 = document.createElement("input");
      input1.type = "text";
      input1.placeholder = "モンスター名や数値など";

      const input2 = document.createElement("input");
      input2.type = "number";
      input2.placeholder = "目標数";

      const removeBtn = document.createElement("button");
      removeBtn.textContent = "削除";
      removeBtn.onclick = () => block.remove();

      select.onchange = () => {
        const type = select.value;
        if (type === "HR") {
          input1.placeholder = "現在のHR";
          input2.placeholder = "目標HR";
          input1.style.display = "inline-block";
          input2.style.display = "inline-block";
        } else if (type === "歩いた距離") {
          input1.style.display = "none";
          input2.placeholder = "km";
          input2.style.display = "inline-block";
        } else {
          input1.placeholder = "名前など";
          input1.style.display = "inline-block";
          input2.placeholder = "目標数";
          input2.style.display = "inline-block";
        }
      };

      select.onchange(); // 初期切り替え
      block.appendChild(select);
      block.appendChild(input1);
      block.appendChild(input2);
      block.appendChild(removeBtn);
      freeGoalContainer.appendChild(block);
    }
  </script>
</body>
</html>